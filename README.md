## ABOUT THE PORT

`RBQUAKE-3 is a backup the XreaL source port and tools with a few tweaks to play Quake 3 Arena.`

## XreaL Q3A total conversion in 2005-2010

![XreaL](https://github.com/RobertBeckebans/RBQUAKE-3/raw/master/docs/xreal_scrnshot.jpg)

RBQUAKE-3 is based on XreaL and the goal of this port was to bring Q3A up to latest technology in 2009 making it closer to Doom 3 and Quake 4 while still remaining a Quake 3 port regarding the gameplay. Some results were:

* OpenGL 3.2 renderer with all deprecated and immediate mode API OpenGL calls removed
* Clever usage of vertex buffer objects (VBO) to speed up rendering of everything
* Avoids geometry processing each frame using the CPU (worst bottleneck with the Q3A engine)
* Optional GPU occlusion culling (improved Coherent Hierarchy Culling) useful for rendering large city scenes
* Doom 3 .MD5mesh/.MD5anim skeletal model and animation support
* Unreal Actor X .PSK/.PSA skeletal model and animation support
* True 64 bit HDR lighting with adaptive tone mapping
* Advanced projective and omni-directional soft shadow mapping methods like EVSM
* Real-time sun lights with parallel-split shadow maps
* Optional deferred shading
* Relief mapping that can be enabled by materials
* Optional uniform lighting and shadowing model like in Doom 3 including globe mapping
* Supports almost all Quake 3, Enemy Territory and Doom 3 material shader keywords
* TGA, PNG, JPG and DDS format support for textures
* Usage of frame buffer objects (FBO) to perform offscreen rendering effects
* Improved TrueType font support that does not require external tools
* A new XBSP format with support for per vertex HDR light data
* Deluxe light mapping support (stores dominant light direction per texel besides color)


It uses code from the ioquake3 project ![ioq3](https://github.com/RobertBeckebans/RBQUAKE-3/raw/master/docs/ioquake3_logo.png)


## GENERAL NOTES

A short summary of the file layout:

Directory                     | Description
:---------------------------- | :------------------------------------------------
RBQUAKE-3/base/                   | XreaL media directory ( models, textures, sounds, maps, etc. )
RBQUAKE-3/code/                   | RBQUAKE-3 source code ( renderer, game code for multiple games, OS layer, etc. )
RBQUAKE-3/code/tools/xmap         | map compiler ( .map -> .bsp ) (based on q3map)
RBQUAKE-3/code/tools/xmap2        | map compiler ( .map -> .bsp ) (based on q3map2)
RBQUAKE-3/code/tools/xmaster	  | master server
RBQUAKE-3/blender/          	  | Blender plugins for ase, md3, and md5 models


## LICENSE

See docs/COPYING.txt for all the legal stuff.


## GETTING THE SOURCE CODE AND MEDIA

This project's git repository can be cloned with the following instruction set: 

`
git clone https://github.com/RobertBeckebans/RBQUAKE-3.git

## COMPILING ON WINDOWS

1. Download and install the Visual Studio 2017 Community Edition.
2. Generate the VS2017 projects using Premake 5 by doubleclicking a matching configuration .bat file in the premake/ folder.
3. Use the VC2017 solution to compile what you need: RBQUAKE-3/premake/RBQUAKE-3.sln

## KNOWN ISSUES

- Probably not so many

## FAQ ##

**Q** I'm seeing `VM_Create on UI failed`. Help!
**A**: This means the UI DLL didn't copy to the right deploy directory. It should be in the same directory as your exe, or in _baseq3_.

**Q**: How do I run the game in widescreen?
**A**: `r_mode -1; r_customwidth 1920; r_customheight 1080`

**Q**: I'm seeing `Cannot find ui/hud.txt`.
**A**: This means you're running normal Q3A with the Team Arena ui.dll. Swap it out for the proper one.

**Q**: How do I know what code you've changed?
**A**: Apart from the Git diffs, you can look for `// RB` in the source code.

## MULTIUSER SUPPORT ON WINDOWS SYSTEMS

On Windows, all user specific files such as autogenerated configuration,
demos, videos, screenshots, and autodownloaded pk3s are now saved in a
directory specific to the user who is running RBQUAKE-3.

On NT-based systems such as Windows XP, this is usually a directory named:
  "C:\Documents and Settings\%USERNAME%\Application Data\RBQUAKE-3\"

On Windows Vista, this would be:
  "C:\Users\%USERNAME%\Application Data\RBQUAKE-3\"

Windows 95, Windows 98, and Windows ME will use a directory like:
  "C:\Windows\Application Data\RBQUAKE-3"
in single-user mode, or:
  "C:\Windows\Profiles\%USERNAME%\Application Data\RBQUAKE-3"
if multiple logins have been enabled.

You can revert to the old single-user behaviour by setting the fs_homepath
cvar to the directory where Quake 3 is installed.  For example:
  RBQuake3.exe +set fs_homepath "c:\quake3"
Note that this cvar MUST be set as a command line parameter.